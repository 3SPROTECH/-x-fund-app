<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X-Fund | Mes Investissements</title>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700&family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>

    <style>
        :root {
            --black: #0a0a0a;
            --black-hover: #1a1a1a;
            --gold-300: #e8d06b;
            --gold-400: #c9a83c;
            --gold-500: #b08d27;
            --gold-600: #96741d;
            --gold-700: #7a5c18;
            --gold-warm-bg: #faf7ef;

            --green: #22c55e;
            --green-light: #dcfce7;
            --green-dark: #16a34a;
            --red: #ef4444;
            --red-light: #fee2e2;

            --gray-50: #fafafa;
            --gray-100: #f5f5f5;
            --gray-200: #e5e5e5;
            --gray-300: #d4d4d4;
            --gray-400: #a3a3a3;
            --gray-500: #737373;
            --gray-600: #525252;
            --gray-700: #404040;
            --gray-800: #262626;
            --gray-900: #171717;

            --bg: #fafafa;
            --bg-card: #ffffff;
            --text: #0a0a0a;
            --text-secondary: #525252;
            --text-muted: #a3a3a3;
            --border: #e5e5e5;
            --border-light: #f0f0f0;

            --radius: 10px;
            --radius-lg: 14px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'DM Sans', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
        }

        /* ─── Navbar ─── */
        .navbar {
            background: rgba(255,255,255,0.88);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border-bottom: 1px solid var(--border-light);
            padding: 0 2.5rem;
            height: 64px;
            display: flex; align-items: center; justify-content: space-between;
            position: sticky; top: 0; z-index: 100;
        }
        .nav-left { display: flex; align-items: center; gap: 3rem; }
        .logo {
            font-family: 'Playfair Display', serif;
            font-weight: 600; font-size: 1.2rem;
            display: flex; align-items: center; gap: 0.55rem;
            color: var(--text); text-decoration: none; letter-spacing: -0.02em;
        }
        .logo-mark {
            width: 30px; height: 30px; background: var(--black); border-radius: 7px;
            display: flex; align-items: center; justify-content: center;
            color: white; font-size: 0.78rem; font-weight: 700; font-family: 'DM Sans', sans-serif;
        }
        .nav-links { display: flex; gap: 0.15rem; }
        .nav-link {
            text-decoration: none; color: var(--text-muted); font-weight: 500; font-size: 0.85rem;
            padding: 0.45rem 0.9rem; border-radius: 7px; transition: all 0.2s;
        }
        .nav-link:hover { color: var(--text); background: var(--gray-100); }
        .nav-link.active { color: var(--text); background: var(--gray-100); }
        .nav-right { display: flex; align-items: center; gap: 0.75rem; }
        .nav-icon-btn {
            width: 36px; height: 36px; border: 1px solid var(--border); background: transparent;
            border-radius: 8px; display: flex; align-items: center; justify-content: center;
            cursor: pointer; color: var(--text-secondary); transition: all 0.2s;
        }
        .nav-icon-btn:hover { background: var(--gray-100); }
        .avatar {
            width: 34px; height: 34px; background: var(--black); color: white; border-radius: 50%;
            display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 0.75rem; cursor: pointer;
        }

        /* ─── Container ─── */
        .container { max-width: 1200px; margin: 0 auto; padding: 1.75rem 2.5rem 4rem; }

        /* ─── Page Header ─── */
        .page-header {
            display: flex; justify-content: space-between; align-items: flex-end;
            margin-bottom: 2rem;
            animation: fadeUp 0.5s ease both;
        }
        .page-title {
            font-family: 'Playfair Display', serif;
            font-size: 2rem; font-weight: 600; letter-spacing: -0.025em; line-height: 1.2;
        }
        .page-subtitle { font-size: 0.85rem; color: var(--text-muted); margin-top: 0.25rem; }
        .header-actions { display: flex; gap: 0.5rem; }
        .btn-header {
            padding: 0.5rem 1rem; border-radius: 8px; font-size: 0.82rem; font-weight: 600;
            cursor: pointer; display: flex; align-items: center; gap: 0.35rem; transition: all 0.2s;
        }
        .btn-header-primary {
            background: var(--black); color: white; border: none;
        }
        .btn-header-primary:hover { background: var(--black-hover); }
        .btn-header-outline {
            background: transparent; color: var(--text); border: 1px solid var(--border);
        }
        .btn-header-outline:hover { background: var(--gray-50); }

        /* ─── Summary Cards ─── */
        .summary-row {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
            animation: fadeUp 0.5s 0.05s ease both;
        }
        .summary-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 1.25rem;
            transition: border-color 0.2s;
        }
        .summary-card:hover { border-color: var(--gray-300); }
        .summary-card-label {
            font-size: 0.72rem; font-weight: 600; text-transform: uppercase;
            letter-spacing: 0.08em; color: var(--text-muted); margin-bottom: 0.6rem;
        }
        .summary-card-value {
            font-family: 'Playfair Display', serif;
            font-size: 1.55rem; font-weight: 600; letter-spacing: -0.02em; line-height: 1.2;
        }
        .summary-card-change {
            display: inline-flex; align-items: center; gap: 0.2rem;
            font-size: 0.72rem; font-weight: 600; margin-top: 0.4rem;
            padding: 0.15rem 0.5rem; border-radius: 4px;
        }
        .change-up { color: var(--green-dark); background: var(--green-light); }
        .change-down { color: var(--red); background: var(--red-light); }
        .summary-card-sub { font-size: 0.78rem; color: var(--text-muted); margin-top: 0.4rem; }

        /* ─── Main Layout ─── */
        .main-layout {
            display: grid;
            grid-template-columns: 1fr 340px;
            gap: 1.5rem;
            align-items: start;
        }

        /* ─── Chart Section ─── */
        .chart-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            animation: fadeUp 0.5s 0.1s ease both;
        }
        .chart-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 1.25rem;
        }
        .chart-title {
            font-size: 0.72rem; font-weight: 600; text-transform: uppercase;
            letter-spacing: 0.08em; color: var(--text-muted);
        }
        .chart-tabs { display: flex; gap: 0.15rem; background: var(--gray-100); border-radius: 6px; padding: 2px; }
        .chart-tab {
            padding: 0.3rem 0.7rem; border-radius: 5px; font-size: 0.75rem; font-weight: 500;
            color: var(--text-muted); background: transparent; border: none; cursor: pointer; transition: all 0.2s;
        }
        .chart-tab.active { background: var(--bg-card); color: var(--text); box-shadow: 0 1px 3px rgba(0,0,0,0.05); }

        .chart-area {
            width: 100%; height: 200px; position: relative;
        }
        .chart-area svg { width: 100%; height: 100%; }

        .chart-legend {
            display: flex; gap: 1.5rem; margin-top: 1rem; padding-top: 1rem;
            border-top: 1px solid var(--border-light);
        }
        .legend-item { display: flex; align-items: center; gap: 0.4rem; font-size: 0.78rem; color: var(--text-muted); }
        .legend-dot { width: 8px; height: 8px; border-radius: 50%; }

        /* ─── Investments Table ─── */
        .table-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            overflow: hidden;
            animation: fadeUp 0.5s 0.15s ease both;
        }
        .table-header {
            display: flex; justify-content: space-between; align-items: center;
            padding: 1.15rem 1.5rem;
            border-bottom: 1px solid var(--border-light);
        }
        .table-title {
            font-size: 0.72rem; font-weight: 600; text-transform: uppercase;
            letter-spacing: 0.08em; color: var(--text-muted);
        }
        .table-count {
            font-size: 0.75rem; color: var(--text-muted); font-weight: 500;
        }

        .inv-table { width: 100%; border-collapse: collapse; }
        .inv-table th {
            text-align: left; padding: 0.75rem 1.5rem; font-size: 0.7rem; font-weight: 600;
            text-transform: uppercase; letter-spacing: 0.06em; color: var(--text-muted);
            border-bottom: 1px solid var(--border);
            background: var(--gray-50);
        }
        .inv-table th:last-child { text-align: right; }
        .inv-table td {
            padding: 0.9rem 1.5rem; font-size: 0.85rem; border-bottom: 1px solid var(--border-light);
            vertical-align: middle;
        }
        .inv-table tr:last-child td { border-bottom: none; }
        .inv-table tr { transition: background 0.15s; }
        .inv-table tbody tr:hover { background: var(--gray-50); }

        .project-cell { display: flex; align-items: center; gap: 0.75rem; }
        .project-dot {
            width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0;
        }
        .project-cell-name { font-weight: 600; font-size: 0.85rem; }
        .project-cell-type { font-size: 0.72rem; color: var(--text-muted); }

        .td-amount { font-weight: 600; }
        .td-right { text-align: right; }

        .dividend-val { color: var(--green-dark); font-weight: 600; }
        .dividend-none { color: var(--text-muted); }

        .status-tag {
            display: inline-flex; align-items: center; gap: 0.25rem;
            padding: 0.2rem 0.6rem; border-radius: 5px;
            font-size: 0.7rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.04em;
            white-space: nowrap;
        }
        .status-active { background: var(--green-light); color: var(--green-dark); }
        .status-pending { background: #fef3c7; color: #92400e; }
        .status-completed { background: var(--gray-100); color: var(--gray-600); }

        /* ─── Sidebar ─── */
        .sidebar {
            display: flex; flex-direction: column; gap: 1rem;
            position: sticky; top: 84px;
            animation: fadeUp 0.5s 0.2s ease both;
        }

        /* Allocation Donut */
        .allocation-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
        }
        .allocation-title {
            font-size: 0.72rem; font-weight: 600; text-transform: uppercase;
            letter-spacing: 0.08em; color: var(--text-muted); margin-bottom: 1.25rem;
        }
        .donut-container {
            display: flex; align-items: center; justify-content: center;
            margin-bottom: 1.25rem;
        }
        .donut-container svg { display: block; }
        .alloc-legend { display: flex; flex-direction: column; gap: 0.6rem; }
        .alloc-item {
            display: flex; justify-content: space-between; align-items: center;
            font-size: 0.82rem;
        }
        .alloc-item-left { display: flex; align-items: center; gap: 0.5rem; }
        .alloc-dot { width: 8px; height: 8px; border-radius: 2px; flex-shrink: 0; }
        .alloc-item-label { color: var(--text-secondary); }
        .alloc-item-value { font-weight: 600; }

        /* Recent Activity */
        .activity-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
        }
        .activity-title {
            font-size: 0.72rem; font-weight: 600; text-transform: uppercase;
            letter-spacing: 0.08em; color: var(--text-muted); margin-bottom: 1rem;
        }
        .activity-list { display: flex; flex-direction: column; gap: 0; }
        .activity-item {
            display: flex; gap: 0.75rem; align-items: flex-start;
            padding: 0.7rem 0;
            border-bottom: 1px solid var(--border-light);
        }
        .activity-item:last-child { border-bottom: none; padding-bottom: 0; }
        .activity-item:first-child { padding-top: 0; }
        .activity-icon {
            width: 30px; height: 30px; border-radius: 7px;
            display: flex; align-items: center; justify-content: center;
            flex-shrink: 0;
        }
        .activity-icon-invest { background: var(--green-light); color: var(--green-dark); }
        .activity-icon-dividend { background: var(--gold-warm-bg); color: var(--gold-500); }
        .activity-icon-info { background: var(--gray-100); color: var(--gray-500); }
        .activity-text { font-size: 0.8rem; color: var(--text-secondary); line-height: 1.4; }
        .activity-text strong { color: var(--text); }
        .activity-date { font-size: 0.7rem; color: var(--text-muted); margin-top: 0.1rem; }

        /* Performance Card */
        .perf-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
        }
        .perf-title {
            font-size: 0.72rem; font-weight: 600; text-transform: uppercase;
            letter-spacing: 0.08em; color: var(--text-muted); margin-bottom: 1rem;
        }
        .perf-row {
            display: flex; justify-content: space-between; align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--border-light);
            font-size: 0.82rem;
        }
        .perf-row:last-child { border-bottom: none; }
        .perf-label { color: var(--text-muted); }
        .perf-value { font-weight: 600; }
        .perf-value.positive { color: var(--green-dark); }

        /* ─── Animations ─── */
        @keyframes fadeUp {
            from { opacity: 0; transform: translateY(12px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ─── Responsive ─── */
        @media (max-width: 1024px) {
            .main-layout { grid-template-columns: 1fr; }
            .sidebar { position: static; }
            .summary-row { grid-template-columns: 1fr 1fr; }
            .container { padding: 1.5rem; }
        }
        @media (max-width: 768px) {
            .summary-row { grid-template-columns: 1fr; }
            .nav-links { display: none; }
            .navbar { padding: 0 1.25rem; }
            .page-header { flex-direction: column; align-items: flex-start; gap: 1rem; }
            .inv-table { font-size: 0.8rem; }
            .inv-table th, .inv-table td { padding: 0.7rem 1rem; }
        }
    </style>
</head>
<body>

    <nav class="navbar">
        <div class="nav-left">
            <a href="#" class="logo"><div class="logo-mark">X</div> X-Fund</a>
            <div class="nav-links">
                <a href="#" class="nav-link">Tableau de bord</a>
                <a href="#" class="nav-link">Projets</a>
                <a href="#" class="nav-link active">Portefeuille</a>
            </div>
        </div>
        <div class="nav-right">
            <button class="nav-icon-btn"><i data-lucide="bell" size="16"></i></button>
            <div class="avatar">IN</div>
        </div>
    </nav>

    <div class="container">

        <div class="page-header">
            <div>
                <h1 class="page-title">Mes Investissements</h1>
                <p class="page-subtitle">Vue d'ensemble de votre portefeuille</p>
            </div>
            <div class="header-actions">
                <button class="btn-header btn-header-outline"><i data-lucide="download" size="14"></i> Exporter</button>
                <button class="btn-header btn-header-primary"><i data-lucide="plus" size="14"></i> Investir</button>
            </div>
        </div>

        <!-- Summary Cards -->
        <div class="summary-row">
            <div class="summary-card">
                <div class="summary-card-label">Total investi</div>
                <div class="summary-card-value">210 000 €</div>
                <div class="summary-card-sub">3 projets actifs</div>
            </div>
            <div class="summary-card">
                <div class="summary-card-label">Valeur actuelle</div>
                <div class="summary-card-value">245 420 €</div>
                <div class="summary-card-change change-up"><i data-lucide="trending-up" size="11"></i> +16,9 %</div>
            </div>
            <div class="summary-card">
                <div class="summary-card-label">Dividendes reçus</div>
                <div class="summary-card-value">35 420 €</div>
                <div class="summary-card-change change-up"><i data-lucide="arrow-up" size="11"></i> +12 450 € ce trimestre</div>
            </div>
            <div class="summary-card">
                <div class="summary-card-label">Rendement moyen</div>
                <div class="summary-card-value">11,2 %</div>
                <div class="summary-card-sub">Pondéré par montant</div>
            </div>
        </div>

        <div class="main-layout">

            <div class="main-col">

                <!-- Portfolio Value Chart -->
                <div class="chart-card">
                    <div class="chart-header">
                        <div class="chart-title">Évolution du portefeuille</div>
                        <div class="chart-tabs">
                            <button class="chart-tab">1M</button>
                            <button class="chart-tab">3M</button>
                            <button class="chart-tab active">6M</button>
                            <button class="chart-tab">1A</button>
                            <button class="chart-tab">Max</button>
                        </div>
                    </div>
                    <div class="chart-area">
                        <canvas id="portfolioChart"></canvas>
                    </div>
                    <div class="chart-legend">
                        <div class="legend-item"><div class="legend-dot" style="background:#b08d27;"></div> Valeur du portefeuille</div>
                        <div class="legend-item"><div class="legend-dot" style="background:#d4d4d4;"></div> Capital investi</div>
                    </div>
                </div>

                <!-- Investments Table -->
                <div class="table-card">
                    <div class="table-header">
                        <div class="table-title">Mes projets</div>
                        <div class="table-count">3 investissements</div>
                    </div>
                    <table class="inv-table">
                        <thead>
                            <tr>
                                <th>Projet</th>
                                <th>Montant</th>
                                <th>Parts</th>
                                <th>Dividendes</th>
                                <th>Valeur actuelle</th>
                                <th>Date</th>
                                <th style="text-align:right;">Statut</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <div class="project-cell">
                                        <div>
                                            <div class="project-cell-name">Villa Méditerranée</div>
                                            <div class="project-cell-type">Plus-Value · Nice</div>
                                        </div>
                                    </div>
                                </td>
                                <td class="td-amount">5 000 €</td>
                                <td>1</td>
                                <td><span class="dividend-none">—</span></td>
                                <td class="td-amount">5 000 €</td>
                                <td>13/02/2026</td>
                                <td class="td-right"><span class="status-tag status-active">En cours</span></td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="project-cell">
                                        <div>
                                            <div class="project-cell-name">Villa Méditerranée</div>
                                            <div class="project-cell-type">Plus-Value · Nice</div>
                                        </div>
                                    </div>
                                </td>
                                <td class="td-amount">5 000 €</td>
                                <td>1</td>
                                <td><span class="dividend-none">—</span></td>
                                <td class="td-amount">5 000 €</td>
                                <td>12/02/2026</td>
                                <td class="td-right"><span class="status-tag status-active">En cours</span></td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="project-cell">
                                        <div>
                                            <div class="project-cell-name">Projet Lyon</div>
                                            <div class="project-cell-type">Rendement · Lyon</div>
                                        </div>
                                    </div>
                                </td>
                                <td class="td-amount">200 000 €</td>
                                <td>2 000</td>
                                <td><span class="dividend-val">+35 420 €</span></td>
                                <td class="td-amount">200 000 €</td>
                                <td>12/02/2026</td>
                                <td class="td-right"><span class="status-tag status-active">En cours</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Sidebar -->
            <div class="sidebar">

                <!-- Allocation Donut -->
                <div class="allocation-card">
                    <div class="allocation-title">Répartition</div>
                    <div class="donut-container">
                        <canvas id="allocationChart" width="130" height="130" style="max-width:130px;max-height:130px;"></canvas>
                    </div>
                    <div class="alloc-legend">
                        <div class="alloc-item">
                            <div class="alloc-item-left">
                                <div class="alloc-dot" style="background: #96741d;"></div>
                                <span class="alloc-item-label">Projet Lyon</span>
                            </div>
                            <span class="alloc-item-value">95,2 %</span>
                        </div>
                        <div class="alloc-item">
                            <div class="alloc-item-left">
                                <div class="alloc-dot" style="background: #e8d06b;"></div>
                                <span class="alloc-item-label">Villa Méditerranée</span>
                            </div>
                            <span class="alloc-item-value">4,8 %</span>
                        </div>
                    </div>
                </div>

                <!-- Performance -->
                <div class="perf-card">
                    <div class="perf-title">Performance</div>
                    <div class="perf-row">
                        <span class="perf-label">Plus-value latente</span>
                        <span class="perf-value positive">+35 420 €</span>
                    </div>
                    <div class="perf-row">
                        <span class="perf-label">Rendement global</span>
                        <span class="perf-value positive">+16,9 %</span>
                    </div>
                    <div class="perf-row">
                        <span class="perf-label">TRI estimé</span>
                        <span class="perf-value">11,2 %</span>
                    </div>
                    <div class="perf-row">
                        <span class="perf-label">Durée moy. restante</span>
                        <span class="perf-value">14 mois</span>
                    </div>
                </div>

                <!-- Activity -->
                <div class="activity-card">
                    <div class="activity-title">Activité récente</div>
                    <div class="activity-list">
                        <div class="activity-item">
                            <div class="activity-icon activity-icon-invest"><i data-lucide="arrow-down-left" size="14"></i></div>
                            <div>
                                <div class="activity-text"><strong>Investissement</strong> — Villa Méditerranée</div>
                                <div class="activity-text" style="font-weight:600;">5 000 €</div>
                                <div class="activity-date">13 fév. 2026</div>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon activity-icon-invest"><i data-lucide="arrow-down-left" size="14"></i></div>
                            <div>
                                <div class="activity-text"><strong>Investissement</strong> — Villa Méditerranée</div>
                                <div class="activity-text" style="font-weight:600;">5 000 €</div>
                                <div class="activity-date">12 fév. 2026</div>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon activity-icon-dividend"><i data-lucide="coins" size="14"></i></div>
                            <div>
                                <div class="activity-text"><strong>Dividende</strong> — Projet Lyon</div>
                                <div class="activity-text dividend-val">+12 450 €</div>
                                <div class="activity-date">1 jan. 2026</div>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon activity-icon-info"><i data-lucide="file-text" size="14"></i></div>
                            <div>
                                <div class="activity-text"><strong>Rapport</strong> — Projet Lyon T4 disponible</div>
                                <div class="activity-date">15 déc. 2025</div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

    </div>

    <script>
        lucide.createIcons();

        // ─── Portfolio Line Chart ───
        const pCtx = document.getElementById('portfolioChart').getContext('2d');

        const goldGradient = pCtx.createLinearGradient(0, 0, 0, 200);
        goldGradient.addColorStop(0, 'rgba(176, 141, 39, 0.15)');
        goldGradient.addColorStop(1, 'rgba(176, 141, 39, 0.01)');

        const grayGradient = pCtx.createLinearGradient(0, 0, 0, 200);
        grayGradient.addColorStop(0, 'rgba(212, 212, 212, 0.12)');
        grayGradient.addColorStop(1, 'rgba(212, 212, 212, 0.01)');

        new Chart(pCtx, {
            type: 'line',
            data: {
                labels: ['Sept', 'Oct', 'Nov', 'Déc', 'Jan', 'Fév'],
                datasets: [
                    {
                        label: 'Valeur du portefeuille',
                        data: [210000, 215800, 224500, 231200, 238900, 245420],
                        borderColor: '#b08d27',
                        backgroundColor: goldGradient,
                        borderWidth: 2,
                        fill: true,
                        tension: 0.4,
                        pointRadius: 0,
                        pointHoverRadius: 5,
                        pointHoverBackgroundColor: '#b08d27',
                        pointHoverBorderColor: '#fff',
                        pointHoverBorderWidth: 2,
                    },
                    {
                        label: 'Capital investi',
                        data: [200000, 200000, 200000, 200000, 210000, 210000],
                        borderColor: '#d4d4d4',
                        backgroundColor: grayGradient,
                        borderWidth: 1.5,
                        fill: true,
                        tension: 0.4,
                        pointRadius: 0,
                        pointHoverRadius: 4,
                        pointHoverBackgroundColor: '#d4d4d4',
                        pointHoverBorderColor: '#fff',
                        pointHoverBorderWidth: 2,
                        borderDash: [4, 3],
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    mode: 'index',
                    intersect: false,
                },
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        backgroundColor: '#0a0a0a',
                        titleFont: { family: 'DM Sans', size: 11, weight: '500' },
                        bodyFont: { family: 'DM Sans', size: 12, weight: '600' },
                        padding: { x: 12, y: 8 },
                        cornerRadius: 8,
                        displayColors: true,
                        boxWidth: 8,
                        boxHeight: 8,
                        boxPadding: 4,
                        callbacks: {
                            label: function(ctx) {
                                return ctx.dataset.label + ': ' + ctx.parsed.y.toLocaleString('fr-FR') + ' €';
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        grid: { display: false },
                        border: { display: false },
                        ticks: {
                            font: { family: 'DM Sans', size: 11 },
                            color: '#a3a3a3',
                            padding: 8,
                        }
                    },
                    y: {
                        grid: { color: '#f0f0f0', drawTicks: false },
                        border: { display: false },
                        ticks: {
                            font: { family: 'DM Sans', size: 10 },
                            color: '#a3a3a3',
                            padding: 12,
                            callback: function(val) { return (val / 1000) + 'k'; },
                            maxTicksLimit: 5,
                        },
                        beginAtZero: false,
                    }
                }
            }
        });

        // ─── Allocation Donut Chart ───
        const dCtx = document.getElementById('allocationChart').getContext('2d');

        const centerTextPlugin = {
            id: 'centerText',
            afterDraw(chart) {
                const { ctx, chartArea } = chart;
                const cx = (chartArea.left + chartArea.right) / 2;
                const cy = (chartArea.top + chartArea.bottom) / 2;

                ctx.save();
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';

                ctx.font = "600 16px 'Playfair Display'";
                ctx.fillStyle = '#0a0a0a';
                ctx.fillText('210k €', cx, cy - 6);

                ctx.font = "400 10px 'DM Sans'";
                ctx.fillStyle = '#a3a3a3';
                ctx.fillText('3 projets', cx, cy + 10);

                ctx.restore();
            }
        };

        new Chart(dCtx, {
            type: 'doughnut',
            data: {
                labels: ['Projet Lyon', 'Villa Méditerranée'],
                datasets: [{
                    data: [200000, 10000],
                    backgroundColor: ['#96741d', '#e8d06b'],
                    borderColor: '#ffffff',
                    borderWidth: 2,
                    hoverOffset: 4,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                cutout: '65%',
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        backgroundColor: '#0a0a0a',
                        titleFont: { family: 'DM Sans', size: 11, weight: '500' },
                        bodyFont: { family: 'DM Sans', size: 12, weight: '600' },
                        padding: { x: 12, y: 8 },
                        cornerRadius: 8,
                        callbacks: {
                            label: function(ctx) {
                                const total = ctx.dataset.data.reduce((a, b) => a + b, 0);
                                const pct = ((ctx.parsed / total) * 100).toFixed(1);
                                return ctx.parsed.toLocaleString('fr-FR') + ' € (' + pct + ' %)';
                            }
                        }
                    }
                }
            },
            plugins: [centerTextPlugin]
        });
    </script>
</body>
</html>